# 개발 규칙 (Development Rules)

## 🚨 필수 준수 사항

### 서버 관리 규칙
1. **절대 `kill` 명령어 사용 금지**
   - ❌ `kill <PID>`, `pkill`, `killall` 등 직접 프로세스 종료 명령어 금지
   - ✅ **반드시 제공된 쉘 스크립트 사용**
     - `./stop.sh`: 서버 종료
     - `./start.sh`: 서버 시작  
     - `./dev.sh`: 개발 모드 (자동 재시작)

2. **서버 재시작 절차**
   ```bash
   # 올바른 방법
   ./stop.sh && ./start.sh
   
   # 개발 중일 때
   ./dev.sh
   
   # 잘못된 방법 (절대 사용 금지)
   kill <PID>
   pkill -f "go run"
   ```

### 포트 통일 규칙
1. **모든 서비스는 포트 8080 사용**
   - 웹 서버: 8080
   - API 엔드포인트: 8080
   - 문서/예시에서 언급하는 모든 포트: 8080

2. **8081 포트 사용 금지**
   - 코드에서 8081 발견 시 즉시 8080으로 수정
   - 문서, 주석, 로그 메시지 모두 8080으로 통일

### 개발 워크플로우
1. **코드 수정 후 서버 재시작**
   ```bash
   ./stop.sh && ./start.sh
   ```

2. **개발 중 자동 재시작이 필요한 경우**
   ```bash
   ./dev.sh
   ```

3. **서버 상태 확인**
   ```bash
   curl http://localhost:8080/health
   ```

## 🎯 이유 및 목적

### 쉘 스크립트 사용 이유
- **일관성**: 모든 개발자가 동일한 방식으로 서버 관리
- **안전성**: 프로세스 충돌 및 포트 충돌 방지
- **효율성**: 복잡한 명령어 조합을 단순화
- **자동화**: 의존성 확인, 로그 관리 등 자동 처리

### 포트 통일의 이유
- **혼란 방지**: 8080과 8081 혼용으로 인한 접속 오류 방지
- **일관성**: 모든 문서와 코드에서 단일 포트 사용
- **배포 간소화**: 운영 환경에서도 동일한 포트 사용

## 📝 체크리스트

### 코드 작성 시
- [ ] 하드코딩된 포트 번호가 8080인지 확인
- [ ] 서버 시작/종료 시 쉘 스크립트 사용 여부 확인
- [ ] API 문서나 주석에서 포트 번호 확인

### 서버 작업 시  
- [ ] `./stop.sh`로 서버 종료
- [ ] `./start.sh`로 서버 시작
- [ ] `http://localhost:8080`으로 접속 확인

## ✅ 완료된 작업들

1. **쉘 스크립트 사용 규칙 확립**
   - kill 명령어 사용 금지 → `./stop.sh` 사용
   - 프로세스 관리 자동화 완료

2. **포트 표준화 완료**
   - 모든 서비스를 8080 포트로 통일 완료
   - `cmd/server/main.go`: 8080 포트로 변경됨
   - `monitor.sh`: 8080 포트로 업데이트됨
   - 모든 테스트 스크립트: 8080 포트 사용
   - 서버 정상 작동 확인됨

---

**이 규칙을 위반하면 토큰과 시간이 불필요하게 소모됩니다!**
**반드시 쉘 스크립트를 사용하고 포트 8080을 사용하세요.**