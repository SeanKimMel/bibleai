# ë¸”ë¡œê·¸ ìžë™ ìƒì„± ê°€ì´ë“œ (ë³„ë„ Claude ì„¸ì…˜ìš©)

ì´ ë¬¸ì„œëŠ” **ê°œë°œ í™˜ê²½ê³¼ ë¶„ë¦¬ëœ ë³„ë„ì˜ Claude ì„¸ì…˜**ì—ì„œ ë¸”ë¡œê·¸ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì™„ì „í•œ ê°€ì´ë“œìž…ë‹ˆë‹¤.

---

## ðŸ“š ì‚¬ìš© ê°€ëŠ¥í•œ API ëª©ë¡

### 1. ë¸”ë¡œê·¸ ìƒì„±ìš© ë°ì´í„° ìˆ˜ì§‘ API â­

**ì—”ë“œí¬ì¸íŠ¸**: `GET /api/admin/blog/generate-data`

**íŒŒë¼ë¯¸í„°**:
- `keyword` (í•„ìˆ˜): í‚¤ì›Œë“œ (ì˜ˆ: ê°ì‚¬, ì‚¬ëž‘, í‰ì•ˆ, ë¯¿ìŒ)
- `random` (ì„ íƒ): `true` ì„¤ì • ì‹œ ëžœë¤ ëª¨ë“œ (ê°™ì€ í‚¤ì›Œë“œë¼ë„ ë‹¤ë¥¸ ë°ì´í„° ë°˜í™˜)

**ì˜ˆì‹œ**:
```bash
# ì¼ë°˜ ëª¨ë“œ (í•­ìƒ ê°™ì€ ê²°ê³¼)
curl "http://localhost:8080/api/admin/blog/generate-data?keyword=ê°ì‚¬"

# ëžœë¤ ëª¨ë“œ (ë§¤ë²ˆ ë‹¤ë¥¸ ê²°ê³¼)
curl "http://localhost:8080/api/admin/blog/generate-data?keyword=ê°ì‚¬&random=true"
```

**ì‘ë‹µ í˜•ì‹**:
```json
{
  "keyword": "ê°ì‚¬",
  "random_mode": true,
  "data": {
    "bible": {
      "book": "ps",
      "book_name": "ì‹œíŽ¸",
      "chapter": 136,
      "theme": "ê°ì‚¬",
      "relevance_score": 10,
      "verses": [
        {"verse": 1, "content": "ì—¬í˜¸ì™€ê»˜ ê°ì‚¬í•˜ë¼..."},
        {"verse": 2, "content": "ëª¨ë“  ì‹ ì— ë›°ì–´ë‚˜ì‹ ..."}
      ],
      "total_verses": 26
    },
    "prayers": [
      {
        "id": 5,
        "title": "ê°ì‚¬ì˜ ê¸°ë„",
        "content": "ì£¼ë‹˜ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤..."
      }
    ],
    "hymns": [
      {
        "id": 12,
        "number": 12,
        "new_hymn_number": 12,
        "title": "ê°ì‚¬í•˜ëŠ” ë§ˆìŒ ë°›ìœ¼ì†Œì„œ",
        "lyrics": "ê°ì‚¬í•˜ëŠ” ë§ˆìŒ ë°›ìœ¼ì†Œì„œ...",
        "theme": "ê°ì‚¬"
      }
    ]
  },
  "summary": {
    "has_bible": true,
    "has_prayer": true,
    "has_hymn": true
  }
}
```

---

### 2. ë¸”ë¡œê·¸ ë°œí–‰ API

**ì—”ë“œí¬ì¸íŠ¸**: `POST /api/admin/blog/posts`

**ìš”ì²­ í˜•ì‹**:
```json
{
  "title": "ë¸”ë¡œê·¸ ì œëª©",
  "slug": "2025-10-11-unique-slug",
  "content": "# ë§ˆí¬ë‹¤ìš´ ì½˜í…ì¸ \n\në³¸ë¬¸...",
  "excerpt": "ìš”ì•½ë¬¸ (300ìž ì´ë‚´)",
  "keywords": "í‚¤ì›Œë“œ1,í‚¤ì›Œë“œ2,í‚¤ì›Œë“œ3"
}
```

**ì˜ˆì‹œ**:
```bash
curl -X POST "http://localhost:8080/api/admin/blog/posts" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ê°ì‚¬ì˜ ì˜ë¯¸ë¥¼ ë˜ìƒˆê¸°ë©°",
    "slug": "2025-10-11-thanksgiving",
    "content": "# ê°ì‚¬ì˜ ì˜ë¯¸ë¥¼ ë˜ìƒˆê¸°ë©°\n\n...",
    "excerpt": "ê°ì‚¬ì— ëŒ€í•œ ë¬µìƒ",
    "keywords": "ê°ì‚¬,ì„±ê²½,ë¬µìƒ"
  }'
```

---

## ðŸ¤– Claudeì—ê²Œ ì „ë‹¬í•  í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

### í”„ë¡¬í”„íŠ¸ 1: ë¸”ë¡œê·¸ ìž‘ì„± ìš”ì²­

```
ë‹¹ì‹ ì€ ê¸°ë…êµ ì‹ ì•™ ë¸”ë¡œê·¸ ìž‘ì„±ìžìž…ë‹ˆë‹¤.

ì•„ëž˜ APIë¥¼ í†µí•´ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹ ì•™ ë¬µìƒ ë¸”ë¡œê·¸ë¥¼ í•œêµ­ì–´ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ìž‘ì„±í•´ì£¼ì„¸ìš”.

## ìˆ˜ì§‘ëœ ë°ì´í„°

[ì—¬ê¸°ì— API ì‘ë‹µ JSONì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”]

## ë¸”ë¡œê·¸ ìž‘ì„± ìš”êµ¬ì‚¬í•­

### êµ¬ì¡°
1. **ì œëª©** (# í—¤ë”©): í‚¤ì›Œë“œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ í¥ë¯¸ë¡œìš´ ì œëª©
2. **ì„±ê²½ ë³¸ë¬¸ ì†Œê°œ** (## í—¤ë”©):
   - ëŒ€í‘œ êµ¬ì ˆ 1-2ê°œë¥¼ ì¸ìš© (> ë¸”ë¡ì¿¼íŠ¸)
   - ë°°ê²½ ë° ë§¥ë½ ì„¤ëª…
3. **ë¬µìƒê³¼ í•´ì„** (## í—¤ë”©):
   - ì„±ê²½ ë³¸ë¬¸ì˜ ì˜ë¯¸
   - ì˜¤ëŠ˜ë‚  ìš°ë¦¬ì—ê²Œ ì£¼ëŠ” êµí›ˆ
   - 3-4ê°œì˜ ì†Œì£¼ì œë¡œ ë‚˜ëˆ„ì–´ ì„¤ëª…
4. **ì°¬ì†¡ê°€ ì†Œê°œ** (## í—¤ë”©):
   - ì œê³µëœ ì°¬ì†¡ê°€ ê°€ì‚¬ ì¼ë¶€ë¥¼ ``` ì½”ë“œë¸”ë¡ìœ¼ë¡œ ì¸ìš©
   - ê° ì°¬ì†¡ê°€ê°€ ì „í•˜ëŠ” ë©”ì‹œì§€ ì„¤ëª…
5. **ì˜¤ëŠ˜ì˜ ì ìš©** (## í—¤ë”©):
   - êµ¬ì²´ì ì¸ ì‹¤ì²œ ë°©ë²• 3ê°€ì§€ (ë²ˆí˜¸ ëª©ë¡)
6. **ë§ˆë¬´ë¦¬ ê¸°ë„** (## í—¤ë”©):
   - 2-3ë¬¸ë‹¨ì˜ ê¸°ë„ë¬¸

### ìž‘ì„± ìŠ¤íƒ€ì¼
- ë”°ëœ»í•˜ê³  ì§„ì†”í•œ í†¤
- ë³µìž¡í•œ ì‹ í•™ ìš©ì–´ë³´ë‹¤ëŠ” ì¼ìƒ ì–¸ì–´ ì‚¬ìš©
- êµ¬ì²´ì ì¸ ì˜ˆì‹œì™€ ë¹„ìœ  í™œìš©
- ë¶„ëŸ‰: 1500-2500ìž (ë„ˆë¬´ ê¸¸ì§€ ì•Šê²Œ)

### ì œì•½ì‚¬í•­
- ì´ëª¨ì§€ ì‚¬ìš© ê¸ˆì§€
- ì„±ê²½ êµ¬ì ˆì€ ì •í™•í•˜ê²Œ ì¸ìš©
- ì°¬ì†¡ê°€ ê°€ì‚¬ëŠ” ì œê³µëœ ë‚´ìš©ë§Œ ì‚¬ìš©
- í—ˆìœ„ ì •ë³´ë‚˜ ê³¼ìž¥ ê¸ˆì§€

## ì¶œë ¥ í˜•ì‹

ìž‘ì„±í•œ ë¸”ë¡œê·¸ë¥¼ ì•„ëž˜ JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•´ì£¼ì„¸ìš”:

```json
{
  "title": "ë¸”ë¡œê·¸ ì œëª©",
  "slug": "2025-10-11-slug-here",
  "content": "# ë¸”ë¡œê·¸ ì œëª©\n\n## ì„±ê²½ ë³¸ë¬¸ ì†Œê°œ\n\n...",
  "excerpt": "100-200ìž ìš”ì•½",
  "keywords": "í‚¤ì›Œë“œ1,í‚¤ì›Œë“œ2,í‚¤ì›Œë“œ3"
}
```

**ì¤‘ìš”**:
- slugëŠ” "YYYY-MM-DD-ì˜ë¬¸-ì œëª©" í˜•ì‹ (ì†Œë¬¸ìž, í•˜ì´í”ˆ êµ¬ë¶„)
- excerptëŠ” ë³¸ë¬¸ ë‚´ìš©ì„ 100-200ìžë¡œ ìš”ì•½
- keywordsëŠ” í‚¤ì›Œë“œì™€ ê´€ë ¨ ë‹¨ì–´ë“¤ì„ ì‰¼í‘œë¡œ êµ¬ë¶„ (3-5ê°œ)
```

---

### í”„ë¡¬í”„íŠ¸ 2: API í˜¸ì¶œ ë° ë°œí–‰ ìš”ì²­

```
ìœ„ì—ì„œ ìž‘ì„±í•œ ë¸”ë¡œê·¸ JSONì„ ì•„ëž˜ ëª…ë ¹ì–´ë¡œ ë°œí–‰í•´ì£¼ì„¸ìš”:

curl -X POST "http://localhost:8080/api/admin/blog/posts" \
  -H "Content-Type: application/json" \
  -d '[ì—¬ê¸°ì— JSON ë¶™ì—¬ë„£ê¸°]'

ë°œí–‰ í›„ ê²°ê³¼ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”:

curl "http://localhost:8080/api/blog/posts?page=1&limit=5" | jq .
```

---

## ðŸ“‹ ì „ì²´ ì›Œí¬í”Œë¡œìš°

### Step 1: ë°ì´í„° ìˆ˜ì§‘

```bash
# í‚¤ì›Œë“œ ì„ íƒ (ì˜ˆ: í‰ì•ˆ)
KEYWORD="í‰ì•ˆ"

# ëžœë¤ ëª¨ë“œë¡œ ë°ì´í„° ìˆ˜ì§‘ (ë§¤ë²ˆ ë‹¤ë¥¸ ë°ì´í„°)
curl "http://localhost:8080/api/admin/blog/generate-data?keyword=$KEYWORD&random=true" | jq . > blog_data.json
```

### Step 2: Claudeì—ê²Œ ì „ë‹¬

1. ìƒˆ Claude ì°½ ì—´ê¸° (ê°œë°œ í™˜ê²½ê³¼ ë¶„ë¦¬)
2. **í”„ë¡¬í”„íŠ¸ 1** ë³µì‚¬
3. `blog_data.json` ë‚´ìš©ì„ `[ì—¬ê¸°ì— API ì‘ë‹µ JSONì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”]` ë¶€ë¶„ì— ë¶™ì—¬ë„£ê¸°
4. Claudeê°€ ë¸”ë¡œê·¸ JSONì„ ìƒì„±í•  ë•Œê¹Œì§€ ëŒ€ê¸°

### Step 3: ë¸”ë¡œê·¸ ë°œí–‰

Claudeê°€ ìƒì„±í•œ JSONì„ íŒŒì¼ë¡œ ì €ìž¥:
```bash
# Claudeì˜ ì¶œë ¥ì„ blog_post.jsonì— ì €ìž¥
cat > blog_post.json << 'EOF'
{
  "title": "...",
  "slug": "...",
  "content": "...",
  "excerpt": "...",
  "keywords": "..."
}
EOF
```

ë°œí–‰:
```bash
curl -X POST "http://localhost:8080/api/admin/blog/posts" \
  -H "Content-Type: application/json" \
  -d @blog_post.json | jq .
```

### Step 4: í™•ì¸

```bash
# ë¸”ë¡œê·¸ ëª©ë¡ í™•ì¸
curl "http://localhost:8080/api/blog/posts" | jq '.posts[] | {id, title, slug}'

# íŠ¹ì • ë¸”ë¡œê·¸ í™•ì¸
curl "http://localhost:8080/api/blog/posts/2025-10-11-peace" | jq '{title, view_count}'
```

---

## ðŸŽ¯ ì¶”ì²œ í‚¤ì›Œë“œ ëª©ë¡

### ê°ì • ê´€ë ¨
- ì‚¬ëž‘, í‰ì•ˆ, ê°ì‚¬, ê¸°ì¨, ìœ„ë¡œ, í¬ë§, ì†Œë§

### ì‹ ì•™ ê´€ë ¨
- ë¯¿ìŒ, êµ¬ì›, ì€í˜œ, íšŒê°œ, ìˆœì¢…, ê²¸ì†, ì¸ë‚´

### ê´€ê³„ ê´€ë ¨
- ìš©ì„œ, í™”í•´, ê°€ì¡±, í˜•ì œ, ì„¬ê¹€

### ì¼ìƒ ê´€ë ¨
- ì§ìž¥, ê±´ê°•, ì§€í˜œ, ì¸ë„, ë„ì›€

### ì˜ì  ê´€ë ¨
- ê¸°ë„, ì°¬ì–‘, ì˜ˆë°°, ì„±ë ¹, ë§ì”€, ì§„ë¦¬

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ì¤‘ë³µ ë°©ì§€**:
   - ê°™ì€ slugëŠ” ì‚¬ìš© ë¶ˆê°€ (ë‚ ì§œë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •)
   - `random=true` íŒŒë¼ë¯¸í„°ë¡œ ë‹¤ì–‘í•œ ì½˜í…ì¸  ìƒì„±

2. **ë°ì´í„° ê²€ì¦**:
   - API ì‘ë‹µì— `has_bible`, `has_prayer`, `has_hymn`ì„ í™•ì¸
   - ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ë‹¤ë¥¸ í‚¤ì›Œë“œ ì‹œë„

3. **ì½˜í…ì¸  í’ˆì§ˆ**:
   - Claudeê°€ ìƒì„±í•œ ë‚´ìš©ì„ ê²€í†  í›„ ë°œí–‰
   - ì„±ê²½ êµ¬ì ˆì´ ì •í™•í•œì§€ í™•ì¸
   - ì‹ í•™ì ìœ¼ë¡œ ë¬¸ì œê°€ ì—†ëŠ”ì§€ ê²€í† 

4. **í™˜ê²½ ë¶„ë¦¬**:
   - ê°œë°œ Claude ì„¸ì…˜: ì½”ë“œ ìž‘ì„±, ë””ë²„ê¹…
   - ë¸”ë¡œê·¸ Claude ì„¸ì…˜: ì½˜í…ì¸  ìƒì„± ì „ìš©

---

## ðŸš€ ìžë™í™” ì•„ì´ë””ì–´

### GitHub Actionsë¡œ ë§¤ì¼ ìžë™ ë°œí–‰

```yaml
# .github/workflows/daily-blog.yml
name: Daily Blog Generation

on:
  schedule:
    - cron: '0 9 * * *'  # ë§¤ì¼ ì˜¤ì „ 9ì‹œ (KST 18ì‹œ)
  workflow_dispatch:  # ìˆ˜ë™ ì‹¤í–‰

jobs:
  generate-blog:
    runs-on: ubuntu-latest
    steps:
      - name: Fetch data
        run: |
          KEYWORD=$(shuf -n1 -e "ì‚¬ëž‘" "í‰ì•ˆ" "ê°ì‚¬" "ë¯¿ìŒ" "ì†Œë§")
          curl "https://your-domain.com/api/admin/blog/generate-data?keyword=$KEYWORD&random=true" \
            -o blog_data.json

      - name: Generate blog with Claude API
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
        run: |
          # Claude API í˜¸ì¶œí•˜ì—¬ ë¸”ë¡œê·¸ ìƒì„±
          # (í”„ë¡¬í”„íŠ¸ì™€ blog_data.json ì „ë‹¬)

      - name: Publish blog
        run: |
          curl -X POST "https://your-domain.com/api/admin/blog/posts" \
            -H "Content-Type: application/json" \
            -d @blog_post.json
```

---

## ðŸ“Š ì‚¬ìš© í†µê³„

### í˜„ìž¬ ë°ì´í„°ë² ì´ìŠ¤ í˜„í™©
```bash
# ì„±ê²½ ì±•í„° í†µê³„
curl "http://localhost:8080/api/admin/bible/stats" | jq .

# í‚¤ì›Œë“œë³„ ì½˜í…ì¸  ê°œìˆ˜
curl "http://localhost:8080/api/keywords/featured" | jq '.keywords[] | {name, bible_count, hymn_count}'
```

---

## ðŸ’¡ íŒ

1. **ë‹¤ì–‘ì„± í™•ë³´**: `random=true`ë¥¼ í•­ìƒ ì‚¬ìš©í•˜ì—¬ ê°™ì€ í‚¤ì›Œë“œë¼ë„ ë‹¤ë¥¸ ê¸€ ìƒì„±
2. **ì‹œë¦¬ì¦ˆë¬¼**: ê°™ì€ í‚¤ì›Œë“œë¡œ ì—¬ëŸ¬ íŽ¸ ìž‘ì„± ê°€ëŠ¥ (ë‚ ì§œì™€ slugë§Œ ë‹¤ë¥´ê²Œ)
3. **ê³„ì ˆ ë°˜ì˜**: ì‹œì¦Œì— ë§žëŠ” í‚¤ì›Œë“œ ì„ íƒ (í¬ë¦¬ìŠ¤ë§ˆìŠ¤ â†’ ì„±íƒ„, ë¶€í™œì ˆ â†’ ë¶€í™œ)
4. **ë…ìž ë°˜ì‘**: view_countë¥¼ ë³´ê³  ì¸ê¸° ìžˆëŠ” ì£¼ì œë¥¼ ë” ìž‘ì„±

---

## ðŸ”— ì°¸ê³  ë§í¬

- API ì „ì²´ ë¬¸ì„œ: `API_DOCUMENTATION.md`
- ì„œë²„ ë°°í¬ ê°€ì´ë“œ: `DEPLOYMENT.md`
- ìƒ˜í”Œ ìŠ¤í¬ë¦½íŠ¸: `scripts/generate_blog_example.sh`
